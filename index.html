<!DOCTYPE html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#000000">
<title>terminal — JRM2026</title>

<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root{
    --bg: #000000;

    /* terminal colors */
    --green: #00ff66;
    --yellow: #ffd866;
    --white: #eaeaea;
    --pink: #ff79c6;
    --blue: #66b2ff;
    --dim: #8a8a8a;

    --hud-gap: 12px;
    --hud-w: 560px;
    --hud-h: 0px;
  }

  html, body{
    background: var(--bg);
    color: var(--white);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  }

  /* ================= TERMINAL HUD ================= */
  .terminal-hud{
    position: fixed;
    top: var(--hud-gap);
    left: var(--hud-gap);
    right: var(--hud-gap);
    max-width: var(--hud-w);
    z-index: 10000;

    background: #000;
    border: 1px solid #222;
    border-radius: 6px;
    padding: 12px;

    box-shadow: 0 0 0 1px #111 inset;
  }

  .line{
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.5;
  }

  .g{ color: var(--green); }
  .y{ color: var(--yellow); }
  .w{ color: var(--white); }
  .p{ color: var(--pink); }
  .b{ color: var(--blue); }
  .d{ color: var(--dim); }

  /* ================= EDITOR ================= */
  article{
    min-height: 100vh;
    padding:
      calc(18px + var(--hud-h))
      18px
      18px;

    background: #000;
    color: var(--white);
    outline: none;
    white-space: pre-wrap;
    caret-color: var(--green);
    font-size: 16px;
    line-height: 1.55;
  }

  article::selection{
    background: rgba(255, 216, 102, 0.25);
  }
</style>

<!-- TERMINAL HEADER / MOTD -->
<div class="terminal-hud" id="hud">
  <div class="line g">• MobaXterm Professional Edition v24.4 •</div>
  <div class="line y">( SSH client, X server and network tools )</div>
  <br>

  <div class="line w">Welcome to Ubuntu 22.04.5 LTS (GNU/Linux x86_64)</div>
  <div class="line d">System information as of <span id="hudTime"></span></div>
  <br>

  <div class="line">
    <span class="y">System load:</span>
    <span class="w" id="load"></span>
  </div>
  <div class="line">
    <span class="y">Memory usage:</span>
    <span class="w" id="memory"></span>
  </div>
  <div class="line">
    <span class="y">Processes:</span>
    <span class="w" id="processes"></span>
  </div>
  <div class="line">
    <span class="y">Users logged in:</span>
    <span class="w">1</span>
  </div>
  <div class="line">
    <span class="y">IPv4 address:</span>
    <span class="p" id="publicIp">checking...</span>
  </div>
  <div class="line">
    <span class="y">Location:</span>
    <span class="w" id="location">checking...</span>
  </div>

  <br>
  <div class="line d">*** System restart required ***</div>
</div>

<article contenteditable="plaintext-only" spellcheck="false"></article>

<script>
  /* ===== HUD HEIGHT (avoid overlap) ===== */
  const hud = document.getElementById('hud');
  function updateHudHeight(){
    document.documentElement.style.setProperty(
      '--hud-h',
      Math.ceil(hud.getBoundingClientRect().height) + 'px'
    );
  }
  addEventListener('load', updateHudHeight);
  addEventListener('resize', updateHudHeight);

  /* ===== TIME ===== */
  const timeEl = document.getElementById('hudTime');
  function updateTime(){
    timeEl.textContent = new Date().toString();
  }
  updateTime();
  setInterval(updateTime, 1000);

  /* ===== FAKE SYSTEM STATS (realistic) ===== */
  function rnd(min, max){ return (Math.random()*(max-min)+min).toFixed(2); }

  document.getElementById('load').textContent =
    `${rnd(0.8,2.5)} ${rnd(0.6,2.0)} ${rnd(0.4,1.5)}`;

  document.getElementById('memory').textContent =
    `${Math.floor(40+Math.random()*30)}%`;

  document.getElementById('processes').textContent =
    Math.floor(900+Math.random()*600);

  /* ===== PUBLIC IP + LOCATION ===== */
  async function loadIP(){
    try{
      const r = await fetch('https://ipinfo.io/json',{cache:'no-store'});
      const j = await r.json();
      document.getElementById('publicIp').textContent = j.ip;
      document.getElementById('location').textContent =
        `${j.country} (${j.city}, ${j.region})`;
    }catch(e){
      document.getElementById('publicIp').textContent = 'unavailable';
      document.getElementById('location').textContent = 'unavailable';
    }
  }
  loadIP();
</script>
